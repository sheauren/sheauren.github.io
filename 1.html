<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>jsMind</title>
    <link type="text/css" rel="stylesheet" href="jsmind.css" />
    <style type="text/css">
        #jsmind_container{
            width:100%;
            height:500px;
            border:solid 1px #ccc;
            background:#f4f4f4;
        }
    </style>
</head>
<body>
<div id="jsmind_container"></div>
<script type="text/javascript" src="jsmind.js"></script>
<script type="text/javascript" src="jsmind.draggable.js"></script>
<script type="text/javascript">
    function loadJSON(file,callback) {
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType("application/json");
        xobj.open('GET', file, true);
        // Replace 'my_data' with the path to your file
        xobj.onreadystatechange = function() {
            if (xobj.readyState === 4 && xobj.status === 200) {
                // Required use of an anonymous callback 
                // as .open() will NOT return a value but simply returns undefined in asynchronous mode
                callback(xobj.responseText);
            }
        };
        xobj.send(null);
    }
    function load_jsmind(){
        loadJSON('./1.json',(json)=>{
			json=eval(json)
            var mind = {
                "meta":{},
                "format":"node_array",
                "data":json
            };
            var options = {
                container:'jsmind_container',
                editable:true,
                theme:'primary'
            }
            var jm = jsMind.show(options,mind);
            jm.add_node("sub2","sub23", "new node", {"background-color":"red"});
            jm.set_node_color('sub21', 'green', '#ccc');
        })
    }

    load_jsmind();
</script>
</body>
</html>
